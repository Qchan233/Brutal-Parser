# Brutal-Parser

_Engineering a compiler_ 第三章中暴力解析算法的实现。其中回溯的具体实现极大增加了我对程序状态的理解。在语法树中，一个语法单元的状态包括focus（当前处理的语法单元），current_index（输入流中的位置），prev_stack（当前结点未展开时栈顶的位置）。所谓回溯就是在语法树层回退到上一层，把解析器的状态恢复到原先的状态。

什么是解析错误？用规则展开完了但是输入流不为空是错误吗？不是。应该要继续尝试其它规则，这也就是代码中prev_focus的作用。为了防止解析完的时候，focus=None，保存了前一个语法节点（必然是非终结符），再从保存的节点向上回溯。
